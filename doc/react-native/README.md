# React Native概述

## 为什么选择React?
React的开发者采取了虚拟DOM的做法,虚拟DOM更加轻量,对真实DOM抽象化.独立于特定浏览器的具体实现.每当触发需要改变的DOM事件时, React会创建一个新的虚拟DOM树,与已有的树进行对比,计算出最少的DOM变化集合,把它们放入队列再全部执行,重新渲染.这种做法比直接操作DOM快了很多.

- **开发简单, 声明式编程**: 按照设计稿编写声明式视图，定义应用的状态。React会根据应用状态，仅更新、渲染对应的组件，非常高效。这让代码的编写和维护变得非常容易，同时更具可预测性，更容易调试。
- **组件化开发**: 用了React，你只需要开发组件。开发一整套组件，再把它们拼装成应用。

工作原理:

- 将UI拆解成组件:
- 交互式UI.

## 为什么选择React Native?
React Native允许开发者通过JavaScript函数的代理, 直接调用原生模块.使用React Native,会得到原生的用户体验以及Web的开发体验.

- 简单易学: 上手难度低,只要学会React,就会上手开发界面,如果会移动端的开发,更是锦上添花;
- 快速迭代: 不用等待应用编译,通过热重载,就能快速显示UI;
- 智能调试: React Native会在报错时,抛出错误描述;
- 原生模块: 可以自定义原生模块,提供完整能力;
- 一次学习,全平台开发: 可以为任何平台开发应用,但需为每个平台提供基础的技术支持.

RN需要一个JS运行环境, 在iOS上直接使用内置的javascriptcore, 在Android上则使用webkit.org官方提供的jsc.so.此外还集成了其它开源组件,如fresco图片组件,okhttp网络组件等.

对于JS开发者来说,画UI只需要使用React来做, 不需要特别关心具体的平台.以iOS为例, JavaScript的形式告诉Objective-C需要执行什么,然后iOS自己去调用UIKit等框架绘制界面. 所以,React Native能运行起来,全靠Objective-C和JavaScript的交互.

## React Native的工作原理

原生代码和JavaScript代码通过桥接层进行交互, 这是一个异步的批量串行处理过程. 桥接层介于原生层和JavaScript代码之间,正如它的名称一样,作用是桥接.用户输入,计时器,网络请求和响应等在原生代码中.React Native在原生层收集事件产生的数据,串行处理后通过桥接层传给JavaScript层, JS层拿到数据后处理并生成一系列指令.同样经过批量串行处理后传回原生层.桥接层的原生端决定哪个模块负责处理传回的指令并调用相应的方法,在需要的情况下更新UI.



